MVCC复杂模式测试
=======================

初始合约状态: 地址=0x1234567890123456789012345678901234567890, 键=0x0000000000000000000000000000000000000000000000000000000000000001, 值=100

启动4个工作线程执行8个交易的复杂模式
线程1: Tx0, Tx4 (都是写操作)
线程2: Tx1, Tx5 (都是读操作)
线程3: Tx2, Tx6 (都是写操作)
线程4: Tx3, Tx7 (都是读操作)

交易执行结果:
交易 0 (线程 1):
  类型: write
  开始时间: 19:40:11.646253
  结束时间: 19:40:11.652787
  读取值: 100
  写入值: 1000
  执行成功: true
  执行时间: 6 ms
交易 1 (线程 2):
  类型: read
  开始时间: 19:40:11.646253
  结束时间: 19:40:11.667839
  读取值: 100
  执行成功: true
  执行时间: 21 ms
交易 2 (线程 3):
  类型: write
  开始时间: 19:40:11.646253
  结束时间: 19:40:11.667839
  读取值: 100
  写入值: 1002
  执行成功: true
  执行时间: 21 ms
交易 3 (线程 4):
  类型: read
  开始时间: 19:40:11.646253
  结束时间: 19:40:11.667839
  读取值: 100
  执行成功: true
  执行时间: 21 ms
交易 4 (线程 1):
  类型: write
  开始时间: 19:40:11.667839
  结束时间: 19:40:11.687683
  读取值: 100
  写入值: 1004
  执行成功: true
  执行时间: 19 ms
交易 5 (线程 2):
  类型: read
  开始时间: 19:40:11.687683
  结束时间: 19:40:11.702831
  读取值: 100
  执行成功: true
  执行时间: 15 ms
交易 6 (线程 3):
  类型: write
  开始时间: 19:40:11.687683
  结束时间: 19:40:11.702831
  读取值: 1004
  写入值: 1006
  执行成功: true
  执行时间: 15 ms
交易 7 (线程 4):
  类型: read
  开始时间: 19:40:11.687683
  结束时间: 19:40:11.708480
  读取值: 100
  执行成功: true
  执行时间: 20 ms

多版本状态表内容:
  版本数量: 4
  版本 0:
    交易索引: 0
    值: 1000
    是否已中止: false
    读取此版本的交易: 无
  版本 1:
    交易索引: 2
    值: 1002
    是否已中止: false
    读取此版本的交易: 无
  版本 2:
    交易索引: 4
    值: 1004
    是否已中止: false
    读取此版本的交易: 6 
  版本 3:
    交易索引: 6
    值: 1006
    是否已中止: false
    读取此版本的交易: 无

中止的交易: [5 7 1 3]

多版本状态表分析:
  区块号: 0
  版本历史:
  - 版本 0:
    版本号 (交易索引): 0
    值: 1000
    是否已中止: false
    读取此版本的交易: 无
  - 版本 1:
    版本号 (交易索引): 2
    值: 1002
    是否已中止: false
    读取此版本的交易: 无
  - 版本 2:
    版本号 (交易索引): 4
    值: 1004
    是否已中止: false
    读取此版本的交易: 6 
  - 版本 3:
    版本号 (交易索引): 6
    值: 1006
    是否已中止: false
    读取此版本的交易: 无

执行时间线分析:
  基于开始时间的交易执行顺序:
  1. 交易 0 (线程 1, write) - 开始于: 19:40:11.646253, 结束于: 19:40:11.652787
  2. 交易 1 (线程 2, read) - 开始于: 19:40:11.646253, 结束于: 19:40:11.667839
  3. 交易 2 (线程 3, write) - 开始于: 19:40:11.646253, 结束于: 19:40:11.667839
  4. 交易 3 (线程 4, read) - 开始于: 19:40:11.646253, 结束于: 19:40:11.667839
  5. 交易 4 (线程 1, write) - 开始于: 19:40:11.667839, 结束于: 19:40:11.687683
  6. 交易 5 (线程 2, read) - 开始于: 19:40:11.687683, 结束于: 19:40:11.702831
  7. 交易 6 (线程 3, write) - 开始于: 19:40:11.687683, 结束于: 19:40:11.702831
  8. 交易 7 (线程 4, read) - 开始于: 19:40:11.687683, 结束于: 19:40:11.708480

线程执行分析:
  线程 1 执行的交易: 0 4 
  线程 1 总执行时间: 41 ms
  线程 2 执行的交易: 1 5 
  线程 2 总执行时间: 56 ms
  线程 3 执行的交易: 2 6 
  线程 3 总执行时间: 56 ms
  线程 4 执行的交易: 3 7 
  线程 4 总执行时间: 62 ms

测试完成!
